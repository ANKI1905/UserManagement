<!DOCTYPE html>
<html lang="en">
<head>
  <title>User-Management</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>
<div >
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
  
        <ul class="navbar-nav ml-auto">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                  User-Management
                </a>
                <div class="dropdown-menu">
                    <button type="button" class="btn btn-light" data-toggle="modal" data-target="#myModal">
                        Add User
                      </button>
                      <button type="button" class="btn btn-light" onclick = "display()">
                        Edit/Inactivate User
                      </button>
                  <a class="dropdown-item" href="login.html">Edit/Inactivate User</a>
                
                </div>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="#">
                  Logout
                </a>
            </li>
           
        </ul>
    </nav>
    <div class="modal" id="myModal">
        <div class="modal-dialog">
          <div class="modal-content">
      
            <!-- Modal Header -->
            <div class="modal-header">
              <h4 class="modal-title">Add New User</h4>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
      
            <!-- Modal body -->
            <div class="modal-body">
                <div class="form-group">
                    <label for="email">First Name:</label>
                    <input type="text" class="form-control" placeholder="Enter first name" id="fname">
                  </div>
                  <div class="form-group">
                    <label for="pwd">Last Name:</label>
                    <input type="text" class="form-control" placeholder="Enter last name" id="lname">
                  </div>
                <div class="form-group">
                    <label for="email">Email address:</label>
                    <input type="email" class="form-control" placeholder="Enter email" id="email">
                  </div>
                  <div class="form-group">
                    <label for="pwd">Contact:</label>
                    <input type="contact" class="form-control" placeholder="Enter contact" id="contact">
                  </div>
            </div>
      
            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal" onclick="addUser()">Submit</button>

              <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>
      
          </div>
        </div>
      </div>
      <div id = "record">

      </div>
</div>
<script type = "text/javascript">
    $(document).ready(function(){
        display();
    })
    function editdetails(username){
        console.log(username);
    }
    function addUser(){
        var firstname = $('#fname').val();
        var lastname = $('#lname').val();
        var email = $('#email').val();
        var contact = $('#contact').val();
        $.ajax({
            url: "add.php",
            type: "post",
            data: {Firstname : firstname,
                Lastname : lastname,
                Email: email,
                Contact : contact

            },
            success : function(data, status){
                display();
            }

        })
    }

    function display(){
        $.ajax({
            url: "display.php",
            type: "get",
            success : function(data, status){
                $('#record').html(data);

            }
        })

    }

</script>
 </body>
 </html>   